instalar django

pip install Django


crear proyecto
django-admin startproject myapp

inspeccionar manage.py
python manage.py --help

correr servidor
python manage.py runserver

correr django shell
python manage.py shell

crear app
python manage.py startapp viajes

conectar base de datos
archivo /myapp/myapp/settings.py
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
            'NAME': 'proyectox',
            'USER': 'jorge.rios',
            'PASSWORD': 'Macros3',
            'HOST': 'localhost',
            'PORT': '3306',
    }
}


correr migraciones
python manage.py migrate

crear admin user
python manage.py createsuperuser

crear pagina index
modificar urls.py principal
dentro de app viajes crear ruta /templates/viajes
crear archivo index.html



#para agregar una tabla partiendo de un modelo
leer los archivos de models
python manage.py makemigrations

#aplicar migraciones (crear tablas o modificar tablas columnas etc.)
python manage.py migrate


find all
all_entries = models.Persona.objects.all() #limit [:5]

find by pk
models.Persona.objects.get(pk=1)

find con where
models.Persona.objects.filter(nombre='jorge') 

like
models.Persona.objects.get(headline__contains='Lennon')

join
vals = models.Pago.objects.all().select_related('viaje')

#formas
crear un archivo forms.py
importar la clase de formas
crear una clase con el nombre de la forma
pasar los campos con las validaciones de los campos

#ejemplo
from django import forms

class NameForm(forms.Form):
    nombre = forms.CharField(label='Your name', max_length=100)
    apellidop = forms.CharField(label='Your name', max_length=100)




#autenticacion
agregar a nuestro archivo views.py importacion del modelo de usuarios de django, y metodos de login y logout de django
from django.contrib.auth.models import User
from django.contrib.auth import authenticate, login as login_django, logout as logout_django

crear nuestra ruta de login, y logout
agregar metodos de loging, logout de django dentro de nuestras funciones


#class based views
importar en nuestro archivo de views
from django.views import View

modificar en settings la variable de login_url
LOGIN_URL = 'login'



#rest framework
instalar paquetes
pip install djangorestframework
pip install markdown       # Markdown support for the browsable API.
pip install django-filter  # Filtering support
